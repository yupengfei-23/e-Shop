{"version":3,"sources":["webpack:///src/components/PicZoom.vue","webpack:///./src/components/PicZoom.vue?bf18","webpack:///./src/components/PicZoom.vue"],"names":["offset","el","top","offsetTop","left","offsetLeft","offsetParent","PicZoom","name","props","previewImg","type","String","default","zoomImg","data","zoomVisiable","maskShow","methods","enter","this","out","move","ev","init","moveX","clientX","moveY","clientY","oPreviewBox","houverWidth","scroll","houverHeight","maxWidth","pWidth","maxHeight","percentX","percentY","oHoverBox","style","oBigImg","bWidth","imgWidth","bHeight","imgHeight","$emit","$refs","hoverBox","previewBox","bigImg","imgBox","zoomBox","offsetWidth","offsetHeight","pHeight","document","documentElement","scrollTop","body","components_PicZoom","render","_vm","_h","$createElement","_c","_self","staticClass","ref","on","mousemove","$event","mouseleave","mouseenter","staticStyle","width","attrs","src","_v","directives","rawName","value","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.ed30d951f637d8345a4d.js","sourcesContent":["<template>\n  <div class=\"pic-zoom\">\n    <div\n      class=\"preview-box\"\n      @mousemove=\"move($event)\"\n      @mouseleave=\"out\"\n      ref=\"previewBox\"\n      @mouseenter=\"enter\"\n    >\n      <img :src=\"previewImg\" style=\"width:350px\">\n      <div class=\"mask\" ref=\"hoverBox\" v-show=\"maskShow\"></div>\n    </div>\n    <div class=\"zoom-box\" v-show=\"zoomVisiable\" ref=\"zoomBox\">\n      <img :src=\"zoomImg\" ref=\"bigImg\">\n    </div>\n  </div>\n</template>\n\n<script>\nfunction offset (el) {\n  let top = el.offsetTop;\n  let left = el.offsetLeft;\n  if (el.offsetParent) {\n    el = el.offsetParent;\n    top += el.offsetTop;\n    left += el.offsetLeft;\n  };\n  return {\n    left: left,\n    top: top\n  };\n}\nexport default {\n  name: 'picZoom',\n  props: {\n    previewImg: {\n      type: String,\n      default: ''\n    },\n    zoomImg: {\n      type: String,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      zoomVisiable: false,\n      maskShow: false\n    };\n  },\n  methods: {\n    enter () {\n      this.maskShow = true;\n    },\n    out () {\n      this.zoomVisiable = false;\n      this.maskShow = false;\n    },\n    move (ev) {\n      this.init();\n      // 鼠标距离屏幕距离\n      let moveX = ev.clientX;\n      let moveY = ev.clientY;\n      // 大盒子距离顶部的距离\n      let offsetLeft = offset(this.oPreviewBox).left;\n      let offsetTop = offset(this.oPreviewBox).top;\n      let left = moveX - offsetLeft - this.houverWidth / 2;\n      let top;\n      if (this.scroll > 0) {\n        top = moveY - offsetTop + this.scroll - this.houverHeight / 2;\n      } else {\n        top = moveY - offsetTop - this.houverHeight / 2;\n      }\n      let maxWidth = this.pWidth - this.houverWidth;\n      let maxHeight = this.pWidth - this.houverHeight;\n      left = left < 0 ? 0 : left > maxWidth ? maxWidth : left;\n      top = top < 0 ? 0 : top > maxHeight ? maxHeight : top;\n      let percentX = left / (maxWidth);\n      let percentY = top / (maxHeight);\n      this.oHoverBox.style.left = left + 'px';\n      this.oHoverBox.style.top = top + 'px';\n      this.oBigImg.style.left = percentX * (this.bWidth - this.imgWidth) + 'px';\n      this.oBigImg.style.top = percentY * (this.bHeight - this.imgHeight) + 'px';\n      this.$emit('move', ev);\n      this.zoomVisiable = true;\n    },\n    init () {\n      this.oHoverBox = this.$refs.hoverBox;\n      this.oPreviewBox = this.$refs.previewBox;\n      this.oBigImg = this.$refs.bigImg;\n      this.imgBox = this.$refs.zoomBox;\n      this.houverWidth = this.oHoverBox.offsetWidth;\n      this.houverHeight = this.oHoverBox.offsetHeight;\n      this.pWidth = this.oPreviewBox.offsetWidth;\n      this.pHeight = this.oPreviewBox.offsetHeight;\n      this.imgWidth = this.oBigImg.offsetWidth;\n      this.imgHeight = this.oBigImg.offsetHeight;\n      this.bWidth = this.imgBox.offsetWidth;\n      this.bHeight = this.imgBox.offsetHeight;\n      this.scroll = document.documentElement.scrollTop || document.body.scrollTop;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .pic-zoom {\n    .preview-box {\n      width: 350px;\n      height: 350px;\n      border: 1px solid #dddddd;\n      position: relative;\n      cursor: crosshair;\n      .mask{\n        top: 75px;\n        left: 75px;\n        width: 200px;\n        height: 200px;\n        position: absolute;\n        background-color: #FFF;\n        opacity: .6;\n        border: 1px solid #CCC;\n        cursor: crosshair;\n        z-index: 101;\n      }\n    }\n    .zoom-box {\n      top: 317px;\n      left: 508px;\n      width: 450px;\n      height: 400px;\n      border: 1px solid #999;\n      position: absolute;\n      overflow: hidden;\n      z-index: 100;\n      background: #FFF;\n      img {\n        // width: 500px;\n        // height: 500px;\n        position: absolute;\n        border: 0px;\n        display: block;\n        left: -100.286px;\n        top: -125.357px;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/PicZoom.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pic-zoom\"},[_c('div',{ref:\"previewBox\",staticClass:\"preview-box\",on:{\"mousemove\":function($event){_vm.move($event)},\"mouseleave\":_vm.out,\"mouseenter\":_vm.enter}},[_c('img',{staticStyle:{\"width\":\"350px\"},attrs:{\"src\":_vm.previewImg}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.maskShow),expression:\"maskShow\"}],ref:\"hoverBox\",staticClass:\"mask\"})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.zoomVisiable),expression:\"zoomVisiable\"}],ref:\"zoomBox\",staticClass:\"zoom-box\"},[_c('img',{ref:\"bigImg\",attrs:{\"src\":_vm.zoomImg}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d7b7a92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PicZoom.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d7b7a92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PicZoom.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PicZoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PicZoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d7b7a92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PicZoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d7b7a92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PicZoom.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}